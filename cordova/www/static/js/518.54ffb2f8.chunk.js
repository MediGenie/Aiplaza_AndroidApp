"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[518],{3009:function(e,n,t){t.d(n,{p:function(){return o}});var a=t(1413),r=t(885),l=t(2791),c=t(8806),i=t(1246),s=t(184),o=function(e){var n=e.accept,t=e.onChange,o=e.selected_file,d=(0,l.useState)({show:!1,message:""}),u=(0,r.Z)(d,2),f=u[0],m=u[1],p=function(e){m({show:!0,message:e})},h=(0,l.useId)();return(0,s.jsxs)("div",{className:"flex justify-end space-x-2.5",children:[(0,s.jsx)(c.V,{title:"\uc624\ub958",message:f.message,open:f.show,onClose:function(){m((function(e){return(0,a.Z)((0,a.Z)({},e),{},{show:!1})}))}}),o&&(0,s.jsx)(i.W,{disabled:!0,className:"flex-1",value:o.name}),(0,s.jsx)("label",{htmlFor:h,className:"btn !px-10 cursor-pointer",children:"\ud30c\uc77c \uc5c5\ub85c\ub4dc"}),(0,s.jsx)("input",{type:"file",hidden:!0,value:"",id:h,accept:n,onChange:function(e){var a=function(e){return e?e.item(0):null}(e.target.files||void 0);if(null!==a){var r=function(e){return!n||n.split(",").includes(e.type)}(a);!1!==r?function(e){null===t||void 0===t||t(e)}(a):p("\ud30c\uc77c\uc758 \ud615\uc2dd\uc774 \uc62c\ubc14\ub974\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.")}else p("\ud30c\uc77c\uc774 \uc874\uc7ac\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.")}})]})}},3026:function(e,n,t){t.d(n,{p:function(){return c}});var a=t(1694),r=t.n(a),l=t(184),c=function(e){var n=e.label,t=e.required,a=e.className,c=e.children;return(0,l.jsxs)("div",{className:r()(a),children:[(0,l.jsx)("div",{className:"mb-2.5",children:(0,l.jsxs)("label",{className:"text-b2 font-bold",children:[n,t&&(0,l.jsx)("span",{className:"text-blue500",children:"*"})]})}),(0,l.jsx)("div",{children:c})]})}},9518:function(e,n,t){t.r(n),t.d(n,{default:function(){return U}});var a=t(1413),r=t(885),l=t(2791),c=t(2524),i=t(8472),s=t(1708),o=t(5368),d=t(1603),u=t(4306),f=t(8864),m=t(19),p=t(5987),h=t(1694),x=t.n(h),b=t(7689),g=t(242),v=t(2260),j=t(4189);function y(e,n){return"undefined"===typeof e||0===e||void 0===e||null===e||e>n}var N=t(8806),w=t(6401),Z=(0,l.createContext)(void 0);function C(){var e=(0,l.useContext)(Z);if(void 0===e)throw new Error("\ucd08\uae30\ud654 \uc774\ud6c4 \uc0ac\uc6a9\ud574 \uc8fc\uc138\uc694.");return e}var k=t(184),E=["image"],_=["image"],S=function(){var e=C(),n=e.step,t=e.onChangeStep,c=e.data,i=c.content.title,s=(0,b.s0)(),o=(0,l.useState)({message:"",show:!1}),d=(0,r.Z)(o,2),u=d[0],f=d[1],m=function(e){f({message:e,show:!0})};return(0,k.jsxs)("div",{className:"bg-white grid grid-cols-3  items-center justify-between py-5 px-10 border-b border-gray200 sticky top-0 inset-x-0 z-30 overflow-hidden ",children:[(0,k.jsxs)("div",{className:"flex justify-start items-center space-x-[5px]",children:[(0,k.jsx)("button",{onClick:function(){return s(-1)},type:"button",children:(0,k.jsx)("img",{src:v.WG,className:"min-w-[20px] h-[20px]",alt:"\uc774\uc804"})}),(0,k.jsx)("h1",{className:"font-bold text-b1 line-clamp-2",children:i||"\uc11c\ube44\uc2a4\uba85\uc744 \uc785\ub825\ud574 \uc8fc\uc138\uc694."})]}),(0,k.jsxs)("div",{className:"flex justify-center space-x-5",children:[(0,k.jsx)("div",{className:x()("w-6 h-6 rounded border flex font-medium items-center justify-center",{"border-blue500 text-blue500":1===n,"border-gray400 text-gray400 max-lg:hidden":1!==n}),children:"1"}),(0,k.jsx)("img",{className:"max-lg:hidden",src:1===n?v.jt:v.nh,alt:""}),(0,k.jsx)("div",{className:x()("w-6 h-6 rounded border flex font-medium items-center justify-center",{"border-blue500 text-blue500":2===n,"border-gray400 text-gray400 max-lg:hidden":2!==n}),children:"2"}),(0,k.jsx)("img",{className:"max-lg:hidden",src:2===n?v.jt:v.nh,alt:""}),(0,k.jsx)("div",{className:x()("w-6 h-6 rounded border flex font-medium items-center justify-center",{"border-blue500 text-blue500":3===n,"border-gray400 text-gray400 max-lg:hidden":3!==n}),children:"3"}),(0,k.jsx)("img",{className:"max-lg:hidden",src:3===n?v.jt:v.nh,alt:""}),(0,k.jsx)("div",{className:x()("w-6 h-6 rounded border flex font-medium items-center justify-center",{"border-blue500 text-blue500":4===n,"border-gray400 text-gray400 max-lg:hidden":4!==n}),children:"4"})]}),(0,k.jsxs)("div",{className:"flex absolute right-10 space-x-2.5",children:[n>1&&(0,k.jsx)("button",{className:"bg-gray400 text-white py-2 px-5 rounded font-medium",type:"button",onClick:function(){1!==n&&t(n-1)},children:"\uc774\uc804"}),(0,k.jsx)("button",{className:"bg-blue500 text-white py-2 px-5 rounded font-medium",type:"button",onClick:function(){switch(n){case 1:!function(){var e=c.content;(0,j.f)(e.title)?m("\uc11c\ube44\uc2a4 \uc81c\ubaa9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694."):(0,j.f)(e.description)?m("\uc11c\ube44\uc2a4 \uc18c\uac1c\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694."):(0,j.f)(e.thumbnail)?m("\uc378\ub124\uc77c\uc744 \ub4f1\ub85d\ud574 \uc8fc\uc138\uc694."):(0,j.f)(e.email)?m("\ub2f4\ub2f9 \uba54\uc77c \uc8fc\uc18c\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694."):(0,j.f)(e.price)||0===e.price?m("\uc11c\ube44\uc2a4 \uae08\uc561\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694."):t(2)}();break;case 2:!function(){var e=c.page.data,n="";if(Object.values(e).forEach((function(e){e.columns.map((function(t){t.type===w.R.Color?(0,j.f)(t.color)&&(n=e.label+"\uc758 "+t.label+"(\uc774)\uac00 \uc785\ub825\ub418\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4."):t.type===w.R.Image?(0,j.f)(t.image)&&(n=e.label+"\uc758 "+t.label+"(\uc774)\uac00 \uc785\ub825\ub418\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4."):t.type===w.R.Rich?((0,j.f)(t.content)||(0,j.f)(t.color))&&(n=e.label+"\uc758 "+t.label+"(\uc774)\uac00 \uc785\ub825\ub418\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4."):t.type===w.R.Sentence?(((0,j.f)(t.content)||(0,j.f)(t.color))&&(n=e.label+"\uc758 "+t.label+"(\uc774)\uac00 \uc785\ub825\ub418\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4."),"\ud574\ub3543"===e.label&&y(t.content.length,20)&&(n="\ud574\ub354\uc758 "+t.label+"\uae38\uc774\ub294 20\uc790 \uc774\ud558\uc785\ub2c8\ub2e4.")):t.type===w.R.Text&&(((0,j.f)(t.content)||(0,j.f)(t.color))&&(n=e.label+"\uc758 "+t.label+"(\uc774)\uac00 \uc785\ub825\ub418\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4."),"\ud574\ub3543"===e.label&&y(t.content.length,60)&&(n="\ud574\ub354\uc758 "+t.label+"\uae38\uc774\ub294 60\uc790 \uc774\ud558\uc785\ub2c8\ub2e4."))}))})),!1===(0,j.f)(n))return m("".concat(n));t(3)}();break;case 3:!function(){if((0,j.f)(c.service_file))return m("\ud30c\uc77c\uc774 \uc5c5\ub85c\ub4dc \ub418\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4.");t(4)}();break;case 4:!function(){for(var e=0;e<c.form.length;e++){var n=c.form[e];if((0,j.f)(n.label.trim()))return m("\uc139\uc158 ".concat(e+1,"\uc758 \uc139\uc158\uba85\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694."));for(var t=0;t<n.column.length;t++){var a=n.column[t];if((0,j.f)(a.label.trim()))return m("\uc139\uc158 ".concat(e+1,", ").concat(t+1," \ud56d\ubaa9\uc758 \uc81c\ubaa9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694."))}}var l=new FormData;l.append("content[title]",c.content.title),l.append("content[description]",c.content.description),c.content.thumbnail&&l.append("THUMBNAIL",c.content.thumbnail),l.append("content[email]",c.content.email),l.append("content[price]",c.content.price.toString()),l.append("template",c.page.template);for(var i=function(e){var n="page[".concat(e,"]"),t=c.page.data[e];l.append("".concat(n,"[key]"),t.key),l.append("".concat(n,"[label]"),t.label);for(var a=function(e){var a=t.columns[e];if(a.type===w.R.Image){var c="PAGE_".concat(t.label,"_").concat(a.label),i=a.image,s=(0,p.Z)(a,E);i&&i instanceof File&&(l.append(c,i),l.append("".concat(n,"[column][").concat(e,"][image]"),c)),Object.entries(s).forEach((function(t){var a=(0,r.Z)(t,2),c=a[0],i=a[1];l.append("".concat(n,"[column][").concat(e,"][").concat(c,"]"),i.toString())}))}else Object.entries(a).forEach((function(t){var a=(0,r.Z)(t,2),c=a[0],i=a[1];l.append("".concat(n,"[column][").concat(e,"][").concat(c,"]"),i.toString())}))},i=0;i<t.columns.length;i++)a(i)},o=0;o<c.page.data.length;o++)i(o);c.service_file&&l.append("SERVICE_FILE",c.service_file);for(var d=function(e){var n="form[".concat(e,"]"),t=c.form[e];l.append("".concat(n,"[label]"),t.label),l.append("".concat(n,"[description]"),t.description);for(var a=function(a){var c="".concat(n,"[column][").concat(a,"]"),i=t.column[a],s=i.image,o=(0,p.Z)(i,_);if(s&&s instanceof File){var d="SECTION_".concat(e,"_COLUMN_").concat(a);l.append(d,s),l.append("".concat(c,"[image]"),d)}Object.entries(o).forEach((function(e){var t=(0,r.Z)(e,2),c=t[0],i=t[1];l.append("".concat(n,"[column][").concat(a,"][").concat(c,"]"),JSON.stringify(i))}))},i=0;i<t.column.length;i++)a(i)},u=0;u<c.form.length;u++)d(u);g.j.create(l).then((function(){s("/provider/service")})).catch((function(e){return m(e.message)}))}()}},children:"\ub2e4\uc74c"})]}),(0,k.jsx)(N.V,{open:u.show,message:u.message,title:"\uc54c\ub9bc",onClose:function(){f((function(e){return(0,a.Z)((0,a.Z)({},e),{},{show:!1})}))}})]})},T=t(4942),I=t(3009),O=t(3026),L=t(2745),R=t(1246),D=function(){var e=C(),n=e.onChangeData,t=e.data.content,r=function(e,r){n({content:(0,a.Z)((0,a.Z)({},t),{},(0,T.Z)({},e,r))})};return(0,k.jsxs)("div",{className:"container-sm py-10 space-y-5",children:[(0,k.jsx)("div",{className:"bg-white p-10 rounded border border-gray100",children:(0,k.jsx)(O.p,{label:"\uc11c\ube44\uc2a4 \uc81c\ubaa9",required:!0,children:(0,k.jsx)(R.W,{className:"block w-full",placeholder:"\uc11c\ube44\uc2a4 \uc81c\ubaa9\uc744 \uc785\ub825\ud574 \uc8fc\uc138\uc694.",value:t.title,onChange:function(e){r("title",e.target.value)}})})}),(0,k.jsx)("div",{className:"bg-white p-10 rounded border border-gray100",children:(0,k.jsx)(O.p,{label:"\uc11c\ube44\uc2a4 \uc18c\uac1c",required:!0,children:(0,k.jsx)(L.o,{className:"block w-full",placeholder:"\uc11c\ube44\uc2a4\uc5d0 \ub300\ud55c \uc18c\uac1c\ub97c \uc785\ub825\ud574 \uc8fc\uc138\uc694.",value:t.description,onChange:function(e){r("description",e.target.value)}})})}),(0,k.jsx)("div",{className:"bg-white p-10 rounded border border-gray100",children:(0,k.jsxs)(O.p,{label:"\uc378\ub124\uc77c \ub4f1\ub85d",required:!0,children:[(0,k.jsx)("p",{className:"text-gray600 mb-2.5",style:{fontSize:14,lineHeight:"22px"},children:"\uc378\ub124\uc77c\uc5d0 \ud45c\uc2dc\ub420 \uc774\ubbf8\uc9c0\ub97c \ub4f1\ub85d\ud574 \uc8fc\uc138\uc694."}),(0,k.jsx)(I.p,{accept:"image/png,image/jpeg,image/jpg",selected_file:t.thumbnail,onChange:function(e){var n=URL.createObjectURL(e),t=Object.assign(e,{url:n});r("thumbnail",t)}})]})}),(0,k.jsx)("div",{className:"bg-white p-10 rounded border border-gray100",children:(0,k.jsx)(O.p,{label:"\ub2f4\ub2f9 \uba54\uc77c \uc8fc\uc18c",required:!0,children:(0,k.jsx)(R.W,{className:"block w-full",placeholder:"\ubb38\uc758\uc0ac\ud56d\uc744 \ubc1b\uc73c\uc2e4 \ub2f4\ub2f9\uc790\uc758 \uba54\uc77c\uc8fc\uc18c\ub97c \uc785\ub825\ud574 \uc8fc\uc138\uc694.",value:t.email,onChange:function(e){r("email",e.target.value)}})})}),(0,k.jsx)("div",{className:"bg-white p-10 rounded border border-gray100",children:(0,k.jsx)(O.p,{label:"\uc11c\ube44\uc2a4 \uae08\uc561",required:!0,children:(0,k.jsx)(R.W,{className:"block w-full",placeholder:"\uc11c\ube44\uc2a4 1\ud68c\ub2f9 \uc774\uc6a9\uae08\uc561\uc744 \uc785\ub825\ud574 \uc8fc\uc138\uc694.",value:t.price,onChange:function(e){var n=e.target.value,t=parseInt(n);!1===isNaN(t)&&r("price",t)}})})})]})},q=t(6459),A=function(e){(0,q.Z)(e);var n=C(),t=n.data,a=n.onChangeData;return(0,k.jsx)("div",{className:"container-sm py-10",children:(0,k.jsx)("div",{className:"p-10 bg-white rounded border border-gray100",children:(0,k.jsxs)(O.p,{label:"\uc11c\ube44\uc2a4\uc5d0 \uc774\uc6a9\ub420 \ud30c\uc77c\uc744 \uc5c5\ub85c\ub4dc\ud574 \uc8fc\uc138\uc694.",required:!0,children:[(0,k.jsx)("p",{className:"text-b3 text-gray600 mb-2.5",children:"\ud30c\uc77c\uc740 \ucd94\ud6c4 \uc218\uc815\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."}),(0,k.jsx)(I.p,{selected_file:t.service_file,onChange:function(e){a({service_file:e})}})]})})})},P=function(){var e=C().data.content;return(0,k.jsxs)("div",{className:"py-5 px-10 space-x-2.5 flex border-b-4 border-gray100",children:[(0,k.jsx)("div",{className:"bg-gray200 rounded-lg overflow-hidden min-w-[78px]",style:{width:78,height:78},children:(null===e||void 0===e?void 0:e.thumbnail)&&(0,k.jsx)("img",{src:e.thumbnail.url,className:"w-full h-full object-cover",alt:"\uc378\ub124\uc77c"})}),(0,k.jsxs)("div",{className:"max-w-[221px] max-xl:max-w-full overflow-hidden",children:[(0,k.jsx)("h2",{className:"text-b1 font-semibold break-words line-clamp-2",children:e.title||"\uc11c\ube44\uc2a4\uba85\uc744 \uc785\ub825\ud574 \uc8fc\uc138\uc694."}),(0,k.jsx)("p",{className:"text-b3 text-gray600 whitespace-pre-line break-words line-clamp-2",children:e.description||"\uc11c\ube44\uc2a4 \uc18c\uac1c\ub97c \uc785\ub825\ud574 \uc8fc\uc138\uc694."})]})]})},M={1:"\uae30\ubcf8\uc815\ubcf4 \ub4f1\ub85d",2:"\uc18c\uac1c\ud398\uc774\uc9c0",3:"\ud30c\uc77c\ub4f1\ub85d",4:"\uc751\ub2f5\ud3fc \uc81c\uc791"},F=function(){var e=C(),n=e.step,t=e.data.form,a=e.onChangeData;return(0,k.jsxs)("div",{className:"bg-white border-r border-gray200 relative w-full overflow-auto max-w-[390px] max-xl:max-w-full",children:[(0,k.jsxs)("div",{className:"bg-blue500 border-b border-gray200 flex justify-center items-center p-5 space-x-2.5",children:[(0,k.jsx)("div",{className:"w-6 h-6 border border-white rounded flex items-center justify-center",children:(0,k.jsx)("span",{className:"text-b3 font-medium text-white",children:n})}),(0,k.jsx)("h1",{className:"text-b3 text-white",children:M[n]||"\uc54c \uc218 \uc5c6\uc74c"})]}),(0,k.jsx)(P,{}),(0,k.jsx)("div",{className:"px-10 max-xl:hidden",children:4===n&&(0,k.jsx)(s.A,{changeSections:function(e){a({form:e})},sections:t})})]})};function W(e){var n=JSON.stringify(e);return JSON.parse(n)}var U=function(){var e=(0,l.useState)(1),n=(0,r.Z)(e,2),t=n[0],p=n[1],h=(0,l.useState)({content:{description:"",email:"",price:0,thumbnail:null,title:""},form:[{label:"",column:[{type:o.S.TITLE,description:"",label:"",image:null}],description:""}],page:{data:W(u.D),template:i.e.TEMPLATE_1},service_file:null}),x=(0,r.Z)(h,2),b=x[0],g=x[1],v=(0,l.useCallback)((function(e){return p(e)}),[]),j=(0,l.useCallback)((function(e){g((function(n){return(0,a.Z)((0,a.Z)({},n),e)}))}),[]),y=(0,l.useCallback)((function(e){e===i.e.TEMPLATE_1&&g((function(n){return(0,a.Z)((0,a.Z)({},n),{},{page:(0,a.Z)((0,a.Z)({},n.page),{},{template:e,data:W(u.D)})})})),e===i.e.TEMPLATE_2&&g((function(n){return(0,a.Z)((0,a.Z)({},n),{},{page:(0,a.Z)((0,a.Z)({},n.page),{},{template:e,data:W(f.P)})})})),e===i.e.TEMPLATE_3&&g((function(n){return(0,a.Z)((0,a.Z)({},n),{},{page:(0,a.Z)((0,a.Z)({},n.page),{},{template:e,data:W(m.t)})})}))}),[]);return(0,d.V)(),(0,k.jsx)(Z.Provider,{value:{data:b,onChangeData:j,onChangeStep:v,step:t},children:(0,k.jsxs)("div",{className:"flex relative overflow-auto bg-gray50 max-xl:flex-col ",style:{height:"calc(100vh - 60px)"},children:[(0,k.jsx)(F,{}),(0,k.jsxs)("div",{className:"flex-1 h-full overflow-auto relative ",children:[(0,k.jsx)(S,{}),(0,k.jsxs)("div",{className:"relative",style:{height:"calc(100% - 65px)"},children:[1===t&&(0,k.jsx)(D,{}),2===t&&(0,k.jsx)(c.e,{value:b.page.data,onChange:function(e){return g((function(n){return(0,a.Z)((0,a.Z)({},n),{},{page:(0,a.Z)((0,a.Z)({},n.page),{},{data:e})})}))},templateId:b.page.template,onChangeTemplateId:y}),3===t&&(0,k.jsx)(A,{}),4===t&&(0,k.jsx)("div",{className:"w-full h-full max-md:h-auto max-xl:flex max-xl:flex-col",children:(0,k.jsx)(s.G,{value:b.form,onChange:function(e){return g((function(n){return(0,a.Z)((0,a.Z)({},n),{},{form:e})}))},onChangeData:j})})]})]})]})})}},6459:function(e,n,t){function a(e){if(null==e)throw new TypeError("Cannot destructure "+e)}t.d(n,{Z:function(){return a}})}}]);
//# sourceMappingURL=518.54ffb2f8.chunk.js.map